(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6507:function(e,t,s){Promise.resolve().then(s.bind(s,3809))},3809:function(e,t,s){"use strict";var a=s(7437),r=s(2265);t.default=e=>{let{userAddress:t,balance:s}=e,[n,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),[h,u]=(0,r.useState)(!1),[x,m]=(0,r.useState)("0"),[b,g]=(0,r.useState)(""),[w,p]=(0,r.useState)("");(0,r.useEffect)(()=>{f()},[]);let f=async()=>{if(window.ethereum)try{let e=await window.ethereum.request({method:"eth_accounts"});e.length>0&&(l(!0),c(e[0]),m(s||"0"))}catch(e){console.error("Error checking connection:",e)}},N=async()=>{if(window.ethereum)try{let e=await window.ethereum.request({method:"eth_requestAccounts"});l(!0),c(e[0]),p("")}catch(e){console.error("Error connecting wallet:",e),p("Failed to connect wallet. Please try again.")}else p("MetaMask not detected. Please install MetaMask.")},j=async()=>{if(!i||!n||!o){p("Please connect your wallet and enter an amount.");return}u(!0),p(""),g("");try{let e=await fetch("/api/sponsor-transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:i,userAddress:o})}),t=await e.json();e.ok&&t.success?(g(t.txHash),d(""),alert("Staking successful! Transaction: ".concat(t.txHash))):p(t.error||"Staking failed. Please try again.")}catch(e){console.error("Staking error:",e),p("Network error. Please check your connection and try again.")}finally{u(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-8 text-center",children:"Quantum Pi Forge Dashboard"}),w&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-200",children:w}),b&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-200",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Transaction Successful!"}),(0,a.jsxs)("p",{className:"text-sm opacity-75 break-all",children:["Hash: ",b]}),(0,a.jsx)("a",{href:"https://polygonscan.com/tx/".concat(b),target:"_blank",rel:"noopener noreferrer",className:"text-blue-300 hover:text-blue-200 underline",children:"View on PolygonScan"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Wallet Connection"}),n?(0,a.jsxs)("div",{className:"text-green-400",children:[(0,a.jsx)("p",{className:"text-lg",children:"âœ… Connected"}),(0,a.jsx)("p",{className:"text-sm opacity-75 break-all",children:o})]}):(0,a.jsx)("button",{onClick:N,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300",children:"Connect MetaMask"})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"OINIO Balance"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-yellow-400",children:[x," OINIO"]}),(0,a.jsx)("p",{className:"text-sm text-white/70 mt-2",children:"Real-time balance from Polygon"})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 md:col-span-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Stake OINIO Tokens"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white/80 text-sm mb-2",children:"Amount to Stake (OINIO)"}),(0,a.jsx)("input",{type:"number",value:i,onChange:e=>d(e.target.value),placeholder:"Enter amount (0.01 - 10000)",min:"0.01",max:"10000",step:"0.01",className:"w-full p-3 rounded-lg bg-white/20 text-white placeholder-white/50 border border-white/30 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!n})]}),(0,a.jsx)("button",{onClick:j,disabled:!n||!i||h,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 disabled:cursor-not-allowed",children:h?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Gasless Transaction..."]}):"Stake with Gasless Transaction"}),(0,a.jsx)("p",{className:"text-white/60 text-sm text-center",children:"No gas fees required - transactions sponsored by Quantum Pi Forge"})]})]})]})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6507)}),_N_E=e.O()}]);